{"intl":"","src":"require( 'tp4.wysiwyg-editor', function(exports, module) {  \"use strict\";\nvar Widget = require(\"wdg\");\n\n/**\n * @example\n * var WysiwygEditor = require(\"tp4.wysiwyg-editor\");\n * var instance = new WysiwygEditor( options );\n * @class WysiwygEditor\n */\nvar WysiwygEditor = function( options ) {\n    var that = this;\n\n    Widget.call(this);\n    this.addClass(\"tp4-wysiwyg-editor\");\n\n    var header = Widget.div( 'header' );\n    var iframe = Widget.tag( 'iframe' );    \n    iframe.attr( 'src', 'squire/squire.html' );\n    iframe.addEvent( 'load', function() {\n        // Storing a reference to the wysiwyg editor.\n        that._squire = iframe.contentWindow.editor;\n        if( that._postponedHTML ) {\n            that._squire.setHTML( that._postponedHTML );\n            delete that._postponedHTML;\n            initHeader.call( that, header );\n        }\n    });\n\n    this.append( header, iframe );\n};\n\n// Extension of Widget.\nWysiwygEditor.prototype = Object.create(Widget.prototype);\nWysiwygEditor.prototype.constructor = WysiwygEditor;\n\n\n/**\n * Get/Set the HTML content of the editor.\n */\nObject.defineProperty( WysiwygEditor.prototype, 'content', {\n    get: function() {\n        if( typeof this._squire === 'undefined' ) {\n            // IFrame is not ready.\n            return this._postponedHTML || \"\";\n        }\n        return this._squire.getHTML();\n    },\n    set: function( html ) {\n        if( typeof this._squire === 'undefined' ) {\n            // IFrame is  not ready.  We store  the `html`  and it\n            // will  be inserted  as soon  as the  iframe will  be\n            // loaded.\n            this._postponedHTML = html;\n            return;\n        }\n        this._squire.setHTML( html );\n    },\n    configurable: false,\n    enumarable: true\n});\n\n\nfunction initHeader( header ) {\n    \n}\n\n\nWysiwygEditor.create = function( options ) {\n    return new WysiwygEditor( options );\n};\nmodule.exports = WysiwygEditor;\n });\n","zip":"require(\"tp4.wysiwyg-editor\",function(t,e){\"use strict\";function i(t){}var r=require(\"wdg\"),o=function(t){var e=this;r.call(this),this.addClass(\"tp4-wysiwyg-editor\");var o=r.div(\"header\"),n=r.tag(\"iframe\");n.attr(\"src\",\"squire/squire.html\"),n.addEvent(\"load\",function(){e._squire=n.contentWindow.editor,e._postponedHTML&&(e._squire.setHTML(e._postponedHTML),delete e._postponedHTML,i.call(e,o))}),this.append(o,n)};o.prototype=Object.create(r.prototype),o.prototype.constructor=o,Object.defineProperty(o.prototype,\"content\",{get:function(){return\"undefined\"==typeof this._squire?this._postponedHTML||\"\":this._squire.getHTML()},set:function(t){return\"undefined\"==typeof this._squire?void(this._postponedHTML=t):void this._squire.setHTML(t)},configurable:!1,enumarable:!0}),o.create=function(t){return new o(t)},e.exports=o});\n//# sourceMappingURL=tp4.wysiwyg-editor.js.map","map":{"version":3,"file":"tp4.wysiwyg-editor.js.map","sources":["tp4.wysiwyg-editor.js"],"sourcesContent":["require( 'tp4.wysiwyg-editor', function(exports, module) {  \"use strict\";\nvar Widget = require(\"wdg\");\n\n/**\n * @example\n * var WysiwygEditor = require(\"tp4.wysiwyg-editor\");\n * var instance = new WysiwygEditor( options );\n * @class WysiwygEditor\n */\nvar WysiwygEditor = function( options ) {\n    var that = this;\n\n    Widget.call(this);\n    this.addClass(\"tp4-wysiwyg-editor\");\n\n    var header = Widget.div( 'header' );\n    var iframe = Widget.tag( 'iframe' );    \n    iframe.attr( 'src', 'squire/squire.html' );\n    iframe.addEvent( 'load', function() {\n        // Storing a reference to the wysiwyg editor.\n        that._squire = iframe.contentWindow.editor;\n        if( that._postponedHTML ) {\n            that._squire.setHTML( that._postponedHTML );\n            delete that._postponedHTML;\n            initHeader.call( that, header );\n        }\n    });\n\n    this.append( header, iframe );\n};\n\n// Extension of Widget.\nWysiwygEditor.prototype = Object.create(Widget.prototype);\nWysiwygEditor.prototype.constructor = WysiwygEditor;\n\n\n/**\n * Get/Set the HTML content of the editor.\n */\nObject.defineProperty( WysiwygEditor.prototype, 'content', {\n    get: function() {\n        if( typeof this._squire === 'undefined' ) {\n            // IFrame is not ready.\n            return this._postponedHTML || \"\";\n        }\n        return this._squire.getHTML();\n    },\n    set: function( html ) {\n        if( typeof this._squire === 'undefined' ) {\n            // IFrame is  not ready.  We store  the `html`  and it\n            // will  be inserted  as soon  as the  iframe will  be\n            // loaded.\n            this._postponedHTML = html;\n            return;\n        }\n        this._squire.setHTML( html );\n    },\n    configurable: false,\n    enumarable: true\n});\n\n\nfunction initHeader( header ) {\n    \n}\n\n\nWysiwygEditor.create = function( options ) {\n    return new WysiwygEditor( options );\n};\nmodule.exports = WysiwygEditor;\n });\n"],"names":["require","exports","module","initHeader","header","Widget","WysiwygEditor","options","that","this","call","addClass","div","iframe","tag","attr","addEvent","_squire","contentWindow","editor","_postponedHTML","setHTML","append","prototype","Object","create","constructor","defineProperty","get","getHTML","set","html","configurable","enumarable"],"mappings":"AAAAA,QAAS,qBAAsB,SAASC,EAASC,GAAW,YA8D5D,SAASC,GAAYC,IA7DrB,GAAIC,GAASL,QAAQ,OAQjBM,EAAgB,SAAUC,GAC1B,GAAIC,GAAOC,IAEXJ,GAAOK,KAAKD,MACZA,KAAKE,SAAS,qBAEd,IAAIP,GAASC,EAAOO,IAAK,UACrBC,EAASR,EAAOS,IAAK,SACzBD,GAAOE,KAAM,MAAO,sBACpBF,EAAOG,SAAU,OAAQ,WAErBR,EAAKS,QAAUJ,EAAOK,cAAcC,OAChCX,EAAKY,iBACLZ,EAAKS,QAAQI,QAASb,EAAKY,sBACpBZ,GAAKY,eACZjB,EAAWO,KAAMF,EAAMJ,MAI/BK,KAAKa,OAAQlB,EAAQS,GAIzBP,GAAciB,UAAYC,OAAOC,OAAOpB,EAAOkB,WAC/CjB,EAAciB,UAAUG,YAAcpB,EAMtCkB,OAAOG,eAAgBrB,EAAciB,UAAW,WAC5CK,IAAK,WACD,MAA4B,mBAAjBnB,MAAKQ,QAELR,KAAKW,gBAAkB,GAE3BX,KAAKQ,QAAQY,WAExBC,IAAK,SAAUC,GACX,MAA4B,mBAAjBtB,MAAKQ,aAIZR,KAAKW,eAAiBW,OAG1BtB,MAAKQ,QAAQI,QAASU,IAE1BC,cAAc,EACdC,YAAY,IAShB3B,EAAcmB,OAAS,SAAUlB,GAC7B,MAAO,IAAID,GAAeC,IAE9BL,EAAOD,QAAUK"},"dependencies":["mod/tp4.wysiwyg-editor","mod/wdg"]}