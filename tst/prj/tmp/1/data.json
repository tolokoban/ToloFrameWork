{"needs":["d:\\Code\\tolokoban\\prj\\node.js\\tfw3\\tst\\prj\\src\\cls\\wtag.Application.js","d:\\Code\\tolokoban\\prj\\node.js\\tfw3\\tst\\prj\\src\\cls\\tfw.Login.js","d:\\Code\\tolokoban\\prj\\node.js\\tfw3\\tst\\prj\\src\\cls\\tfw.Server.js","d:\\Code\\tolokoban\\prj\\node.js\\tfw3\\tst\\prj\\src\\cls\\tfw.Gps.js","d:\\Code\\tolokoban\\prj\\node.js\\tfw3\\tst\\prj\\src\\cls\\wtag.Popup.js"],"includes":["d:\\Code\\tolokoban\\prj\\node.js\\tfw3\\tst\\prj\\src\\cls\\tp.Application.css"],"timestamp":0,"tags":{"def":{"needs":["wtag.Application","tfw.Login","tfw.Server","tfw.Gps","wtag.Popup"],"functions":{"onGPS":{"comment":"*\n         * L'état du GPS a changé ou un nouveau point a été acquis.\n         ","args":["gps"]},"follow":{"comment":"*\n         *\n         ","args":[]},"onLoginChange":{"comment":"*\n         *\n         ","args":["cnx"]}},"comment":"*\n * @created 21/05/2014\n *\n ","name":"tp.Application","superclass":"wtag.Application","singleton":true,"init":"*\n     * Ceci est un constructeur de folie.\n     * Ca en fait une sacré tripoté, hein ?\n     * Surtout sur pluieurs lignes...\n     "},"zip":"window[\"TFW::tp.Application\"]={superclass:\"wtag.Application\",singleton:!0,init:function(){if($$.params.root=\"http://trail-passion.net/tfw/\",$$.params.root=\"http://127.0.0.1/TP3/tfw/\",this.addSlot(\"follow\"),this._cnx=$$(\"tfw.Login\").Change(this,\"onLoginChange\"),this._server=$$(\"tfw.Server\",{id:\"TPx\",root:\"http://trail-passion.net/tfw/\",login:\"test\",password:\"test\"}),this._gps=$$(\"tfw.Gps\").Update(this,\"onGPS\"),this._gps.start(),window.navigator.requestWakeLock){window.navigator.requestWakeLock(\"screen\")}screen.mozlockOrientation(\"portrait\")},functions:{onGPS:function(t){var o,n;n=parseInt(t._status),$(\"#gps-status\").textContent=\"(\"+n+\"): \"+t._statusText[n],n>=20?(o=t.getPosition().coords,console.info(\"[cls/tp.Application] pos=...\",o),$removeClass($(\"#follow\"),\"hidden\"),$(\"#gps-latitude\").textContent=o.latitude,$(\"#gps-longitude\").textContent=o.longitude,$(\"#gps-altitude\").textContent=Math.floor(.5+o.altitude),$(\"#gps-accuracy\").textContent=o.accuracy):$addClass($(\"#follow\"),\"hidden\")},follow:function(){var t=this._gps.getPosition().coords;$$(\"wtag.Popup\").show(\"msg-sending-position\"),this._server.send(\"tp3.Follow\",{lat:t.latitude,lng:t.longitude},function(t){console.info(\"[tp.Application] OK data=...\",t),$$(\"wtag.Popup\").show(\"msg-position-sent-success\")},function(t){console.info(\"[tp.Application] KO xhr=...\",t),$$(\"wtag.Popup\").show(\"msg-position-sent-failure\")})},onLoginChange:function(t){alert(t.isLogged()?\"Bonjour \"+t.user().name:\"Error: \"+t.error())}}};"}}