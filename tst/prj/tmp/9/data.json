{"needs":["d:\\Code\\tolokoban\\prj\\node.js\\tfw3\\tst\\prj\\src\\cls\\wtag.Page.js","d:\\Code\\tolokoban\\prj\\node.js\\tfw3\\tst\\prj\\src\\cls\\wtag.Button.js","d:\\Code\\tolokoban\\prj\\node.js\\tfw3\\tst\\prj\\src\\cls\\wtag.Row.js","d:\\Code\\tolokoban\\prj\\node.js\\tfw3\\tst\\prj\\src\\cls\\wtag.Popup.js"],"includes":["d:\\Code\\tolokoban\\prj\\node.js\\tfw3\\tst\\prj\\src\\cls\\wtag.Application.css"],"timestamp":0,"tags":{"def":{"needs":["wtag.Page","wtag.Button","wtag.Row","wtag.Popup"],"functions":{"lang":{"comment":"*\n         * Retourner ou d√©finir la langue actuelle.\n         ","args":["id"]},"addSlot":{"comment":"*\n         * Ajouter un slot.\n         ","args":["id","slot"]},"signal":{"comment":"*\n         * Appeler un slot.\n         ","args":["slotId","evt"]}},"comment":"*\n * @created 15/05/2014\n *\n ","name":"wtag.Application","singleton":true,"init":""},"zip":"window[\"TFW::wtag.Application\"]={singleton:!0,classInit:function(){$replace=function(t,e){\"string\"==typeof e&&(e=document.createTextNode(e));var n=t.parentNode;return n.replaceChild(e,t),e},$tag=function(t,e){void 0===e&&(e={}),void 0===t&&(t=\"div\");var n,a,o=document.createElement(t);for(n in e)a=e[n],o.setAttribute(n,a);return o},$div=function(t){return $tag(\"div\",t)},$moveContent=function(t,e){var n,a=[];if(!t)return null;for(n=0;n<t.childNodes.length;n++)a.push(t.childNodes[n]);return a.forEach(function(n){t.removeChild(n),e.appendChild(n)}),e},$copyAttribs=function(t,e){var n,a;for(n=0;n<t.attributes.length;n++)a=t.attributes[n],e.setAttribute(a.name,a.value);return e},$events=function(t,e){var n=function(){e.touchstart&&e.touchstart({target:t})},a=function(n){n.preventDefault(),e.touchend&&e.touchend({target:t}),e.tap&&e.tap({target:t})};return t.addEventListener(\"touchstart\",function(t){e._touchstart=1,n(t)}),t.addEventListener(\"mousedown\",function(t){e._touchstart?(t.preventDefault(),delete e._touchstart):n(t)}),t.addEventListener(\"touchend\",function(t){e._touchend=1,a(t)}),t.addEventListener(\"mouseup\",function(t){e._touchend?(t.preventDefault(),delete e._touchend):a(t)}),t},$toggleClass=function(){var t,e;for(t=0;t<arguments.length;t++)e=arguments[t],$hasClass(e)?$removeClass(e):$addClass(e)},$hasClass=function(t,e){var n,a;return t&&(n=t.className)?(a=new RegExp(\"(\\\\s|^)\"+e+\"(\\\\s|$)\"),n.match(a)?!0:!1):!1},$addClass=function(t){var e,n;if(t)for(e=1;e<arguments.length;e++)n=arguments[e],t.className?$hasClass(t,n)||(t.className+=\" \"+n):t.className=n},$removeClass=function(t,e){var n;return t?void($hasClass(t,e)&&(n=new RegExp(\"(\\\\s|^)\"+e+\"(\\\\s|$)\"),t.className=t.className.replace(n,\" \"))):this},$=function(t){var e=document.querySelector(t);if(!e)throw new Error('Bad selector: \"'+t+'\"!');return e}},init:function(){var t,e,n,a,o,r,s,l,u,i,c=this,g=!0,d=\"\",f={page:$$(\"wtag.Page\"),button:$$(\"wtag.Button\"),row:$$(\"wtag.Row\"),err:$$(\"wtag.Popup\"),msg:$$(\"wtag.Popup\")},h=[];for(c._slots={},$$.App=this,l=document.createElement(\"style\"),document.head.appendChild(l),c._langStyle=l,a=document.querySelectorAll(\"[lang]\"),e=0;e<a.length;e++){for(o=a[e],u=o.getAttribute(\"lang\"),i=!1,n=0;n<h.length;n++)if(h[n]==u){i=!0;break}i||h.push(u)}c._languages=h,c.lang(c.lang());for(t in f)g?g=!1:d+=\",\",d+=\"w-\"+t;for(a=document.querySelectorAll(d),e=a.length-1;e>-1;e--)o=a[e],s=o.nodeName.substr(2).toLowerCase(),r=f[s],r.build(o)},functions:{lang:function(t){var e,n,a,o,r,s=this,l=s._languages;if(void 0===t)return e=localStorage.getItem(\"wtag-language\"),e||(e=navigator.language||navigator.browserLanguage||\"fr\",e=e.substr(0,2)),localStorage.setItem(\"wtag-language\",e),e;for(a=!1,n=0;n<l.length;n++)if(l[n]==t){a=!0;break}for(a||(t=l[0]),r=\"\",o=!0,n=0;n<l.length;n++)e=l[n],e!=t&&(o?o=!1:r+=\",\",r+=\"[lang=\"+e+\"]\");s._langStyle.textContent=r+\"{display: none}\",localStorage.setItem(\"wtag-language\",t)},addSlot:function(t,e){var n=this;void 0===e&&(e=t),\"string\"==typeof e?n._slots[t]=function(t){return n[e](t)}:\"function\"==typeof e?n._slots[t]=e:console.error('[wtag.Application.addSlot] Invalid slot for id \"'+t+'\":',e)},signal:function(t,e){var n=this,a=n._slots[t];a?a(e):console.error(\"Unknown slot '\"+t+\"'!\",e)}}};"}}