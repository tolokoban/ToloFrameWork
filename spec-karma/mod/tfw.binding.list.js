require("tfw.binding.list",function(r,t,e){function i(r){return!!r&&"number"==typeof r[f]}function n(r,t,e){Object.defineProperty(r,t,{value:e,writable:!1,configurable:!1,enumerable:!0})}var o=function(){function t(){return i(e,arguments)}var e={en:{},fr:{}},i=r("$").intl;return t.all=e,t}(),s=r("tfw.binding.property-manager"),a=r("tfw.listeners"),f="__tfw.binding.list__",p=1,u=function(r){n(this,f,p++),n(this,"_listeners",new a),n(this,"_links",[]),Array.isArray(r)?n(this,"_array",r):i(r)?(n(this,"_array",r._array),this.link(r)):n(this,"_array",[r])};t.exports=u,u.isList=i,u.prototype.fire=function(r,t,e){var i=this[f];Array.isArray(e)?-1===e.indexOf(i)&&e.push(i):e=[i],this._listeners.fire(r,t,e),this._links.forEach(function(i){e.indexOf(i[f])>-1||i.fire(r,t,e)});var n=s.getPropertyManager(this);if(n){var o=s.getPropertyName(this);n.fire(o)}},u.prototype.addListener=function(r){this._listeners.add(r)},u.prototype.removeListener=function(r){this._listeners.remove(r)},u.prototype.link=function(r){if(!i(r))throw console.error("Argument: ",r),Error("[tfw.binding.list.link] Argument must be a tfw.binding.list object!");-1===this._links.indexOf(r)&&(this._links.push(r),r.link(this))},u.prototype.unlink=function(r){var t=this._links.indexOf(r);-1!==t&&(this._links.splice(t,1),r.unlink(this))},u.prototype.get=function(r){return this._array[r]},u.prototype.put=function(r,t){var e=this._array[r];return e!==t&&(this._array[r]=t,this.fire("put",{index:r,oldValue:e,newValue:t}),!0)},u.prototype.remove=function(r){var t=this._array.indexOf(r);return-1!==t&&(this._array.splice(t,1),this.fire("remove",{elem:r,index:t}),!0)},u.prototype.removeAt=function(r){var t=this._array[r];return this._array.splice(r,1),this.fire("remove",{elem:t,index:r}),!0},u.prototype.mapInPlace=function(r){var t=this;return this._Array.forEach(function(e,i){var n=r(e);t.put(i,n)}),this},["push","pop","shift","unshift","sort","splice","reverse"].forEach(function(r){u.prototype[r]=function(){var t=Array.prototype.slice.call(arguments),e=Array.prototype[r].apply(this._array,t);return this.fire(r,t),e}}),["slice","forEach","filter","map","reduce","indexOf","lastIndexOf"].forEach(function(r){u.prototype[r]=function(){var t=Array.prototype.slice.call(arguments);return Array.prototype[r].apply(this._array,t)}}),Object.defineProperty(u.prototype,"length",{get:function(){return this._array.length},set:function(r){this._array.length=r,this.fire("length",r)},configurable:!1,enumerable:!0}),t.exports._=o});
//# sourceMappingURL=tfw.binding.list.js.map